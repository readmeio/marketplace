---
title: "DownloadOasButton"
description: "Button for downloading the OpenAPI file."
author: "ReadMe"
version: "2.0.0"
license: "MIT"
---

export const DownloadOasButton = ({ url }) => {
  const getFileNameFromUrl = (link) => {
    try {
      const pathname = new URL(link).pathname;
      return pathname.split('/').pop() || 'openapi.json';
    } catch {
      return 'openapi.json';
    }
  };

  const handleDownload = async () => {
    const fileName = getFileNameFromUrl(url);

    try {
      const res = await fetch(url, { mode: 'cors' });
      if (!res.ok) throw new Error(`HTTP error! Status: ${res.status}`);

      const blob = await res.blob();
      const objectUrl = URL.createObjectURL(blob);

      const link = document.createElement('a');
      link.href = objectUrl;
      link.download = fileName;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);

      URL.revokeObjectURL(objectUrl);
    } catch (err) {
      console.error('Failed to download file:', err);
      window.open(url, '_blank', 'noopener,noreferrer');
    }
  };

  return (
    <button
      onClick={handleDownload}
      className="
        flex items-center gap-3 px-6 py-3
        bg-[#6BA539] hover:bg-[#5a8f30]
        text-white font-semibold rounded-full
        shadow-md hover:shadow-lg
        transform hover:scale-105 transition duration-300
      "
    >
      <span>Download OpenAPI Spec</span>
    </button>
  );
};

<DownloadOasButton url="https://demo-url.readme.io/openapi/openapi.json" />
